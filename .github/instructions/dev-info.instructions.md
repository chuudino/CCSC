---
applyTo: '**'
---
# CCSC 開發指南與程式碼規範

這份文件提供了天主教中華基督神修小會官方網站的開發指南與程式碼規範。

## 專案架構

專案使用以下結構組織代碼：

```
CCSC/
├── main.py                # 網站主入口點
├── pages/                 # 所有子頁面
│   ├── about_us/         # 關於我們相關頁面
│   ├── activities/       # 活動相關頁面
│   ├── calendar/        # 行事曆相關頁面
│   ├── publications/    # 出版品相關頁面
│   └── serviceslife/    # 服務生活相關頁面
├── static/               # 靜態資源
│   └── images/          # 圖片資源
└── utils/               # 共用功能
    ├── utils.py         # 頁面初始化和共用函數
    └── menu.py         # 導航系統
```

## 程式碼規範

### 1. 頁面結構
- 所有頁面必須從 `utils.utils` 導入 `init_page` 並在頁面開頭調用
- 頁面命名遵循功能分類，例如：`about_us_history_ccsc.py`
- 分會頁面採用 `{功能}_{分會名稱}_branch.py` 格式

### 2. 函數與變數命名
- 函數名使用小寫字母加底線：`init_page()`
- 變數名稱具有描述性：`page_name`, `current_section`
- 常數使用大寫：`DEFAULT_THEME`, `MAX_ITEMS`

### 3. 程式碼風格
- 使用 4 空格縮排
- 行長度限制在 79 字元以內
- 函數之間保留兩個空行
- 類別之間保留兩個空行
- 導入順序：標準庫 > 第三方庫 > 本地模組

### 4. 狀態管理
- 使用 `st.session_state` 進行狀態管理
- 避免使用全局變數
- 頁面間的數據傳遞通過 session state 完成

### 5. 錯誤處理
- 使用 try-except 進行異常處理
- 提供清晰的錯誤提示訊息
- 記錄關鍵錯誤資訊

### 6. 文檔規範
- 每個模組頂部包含功能描述
- 複雜函數需要詳細的文檔字符串
- 關鍵邏輯需要適當的註釋

### 7. 版本控制
- 遵循語義化版本號規範
- commit 訊息清晰描述變更
- 重要功能使用分支開發

## 開發流程

1. 環境設置
```python
# 安裝依賴
pip install -r requirements.txt

# 啟動開發服務器
streamlit run main.py
```

2. 新頁面開發
```python
from utils.utils import init_page

def main():
    # 初始化頁面
    init_page(page_name="new_page")
    
    # 頁面內容
    st.title("新頁面")
```

3. 測試與部署
- 本地測試確保功能正常
- 檢查程式碼風格符合規範
- 更新文檔和相依套件

## 注意事項

1. 安全性
- 避免在程式碼中包含敏感資訊
- 使用環境變數管理配置
- 注意輸入驗證和資料清理

2. 效能
- 最小化外部資源請求
- 適當使用快取機制
- 優化圖片和靜態資源

3. 可維護性
- 保持程式碼簡潔明瞭
- 適當的模組化和重用
- 及時更新文檔

如有任何問題，請參考 README.md 或聯繫專案維護者。